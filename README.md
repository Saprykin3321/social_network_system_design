# social_network_system_design
System Design education (may 2025)
System Design социальной сети для курса по System Design

Функциональные требования:
1. Публикация постов
    1. Возможность прикрепить фотографии
    2. Возможность оставить описание
    3. Возможность оставить гео-метку
2. Оценка постов других пользователей
3. Комментарии постов других пользователей
4. Подписка на обновления других пользователей
5. Поиск популярных мест для путешествий
6. Просмотр постов
7. Просмотр ленты других пользователей в обратном хронологическом порядке
8. Просмотр своей ленты в обратном хронологическом порядке

Нефункциональные требования:
1. DAU – 10 000 000 в сутки
2. Только для стран СНГ
3. Система должна работать в мобильных устройствах и браузерах
4. Система должна быть надежной
5. Активность пользователей:
    1. Пользователи постят 2 поста в день с 1 фотографией
    2. Пользователи просматривают чужие и свою ленты 10 раз в день
    3. Пользователи оценивают 15 постов в день
    4. Пользователи оставляют 3 комментария в день
    5. Пользователи просматривают посты 10 раз в день
6. Сезонность:
    1. Лето
    2. Зима
7. Тайминги:
    1. Публикация одного поста - 2 секунды
    2. Получение ленты новостей - 2 секунды
    3. Получение детальной карточки поста - 1 секунда

Расчет нагрузки:
* RPS (write) = (DAU * 2 поста в день / 86400) + (DAU * 15 оценок в день / 86400) + (DAU * 3 комментария в день / 86400) = 250 + 1736 + 347 ~ 2500
* RPS (read) = (DAU * 10 ленты / 86400) + (DAU * 10 постов / 86400) ~ 2300

Примерная модель поста (~240 байт):
* id (8 байт)
* user_id (8 байт)
* description (200 байт) 
* geo (8 байт) 
* created_at (8 байт)
* updated_at (8 байт)

Примерная модель изображения к посту (~24 байта):
* id (8 байт)
* post_id (8 байт)
* image_source (8 байт)

Примерная модель оценки (~17 байт): 
* id (8 байт)
* post_id (8 байт)
* grade (1 байт)

Примерная модель коммента (~116 байт):
* id (8 байт)
* post_id (8 байт)
* comment (100 байт)

Расчет трафика:
* Traffic (write) = (RPS * 270 байт (пост + картинка) * 2 поста в день) + (RPS * 17 байт * 15 оценок) + (RPS * 116 байт * 3 коммента в день) = 1350 KB + 640 KB + 870 KB ~ 3 MB/s
* Traffic (read) = (RPS * 270 байт * 10 объектов * 10 лент) + (RPS * 240 байт * 10 объектов) = 62 MB + 6.2 MB ~ 70 MB/s
